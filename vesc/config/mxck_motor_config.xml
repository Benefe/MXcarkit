<?xml version="1.0" encoding="UTF-8"?>
<MCConfiguration>
    <pwm_mode>1</pwm_mode>
    <comm_mode>0</comm_mode> 
    <motor_type>2</motor_type> <!--Motor Settings > General > General > FOC -->
    <sensor_mode>0</sensor_mode> 
    <l_current_max>50</l_current_max> <!--Motor Settings > General > Current > Motot Current Max-->
    <l_current_min>-50</l_current_min> <!-- Motor Settings > General > Current > Motor Current Max Brake-->
    <l_in_current_max>60</l_in_current_max> <!--Motor Settings > General > Current > Battery Current Max-->
    <l_in_current_min>-20</l_in_current_min> <!--Motor Settings > General > Current > Battery Current Min -->
    <l_abs_current_max>150</l_abs_current_max> <!--Motor Settings > General > Current > Aboslute Max Current-->
    <l_min_erpm>-30000</l_min_erpm> <!--Motor Settings > General > ERPM > Max ERPM -->
    <l_max_erpm>30000</l_max_erpm> <!--Motor Settings > General > ERPM > Max ERPM Reverse -->
    <l_erpm_start>0.8</l_erpm_start> <!--Motor Settings > General > ERPM >ERPM Limit Start > Makes ERPM Limit softer -->
    <l_max_erpm_fbrake>30000</l_max_erpm_fbrake>
    <l_max_erpm_fbrake_cc>30000</l_max_erpm_fbrake_cc>
    <l_min_vin>12.8</l_min_vin> <!--Motor Settings > General > Advanced > Minimum Input Voltage -->
    <l_max_vin>16.8</l_max_vin> <!--Motor Settings > General > Advanced > Maximum Input Voltage -->
    <l_battery_cut_start>14</l_battery_cut_start> <!--Motor Settings > General > Voltage > Battery Voltage Cutoff Start -->
    <l_battery_cut_end>12.8</l_battery_cut_end> <!--Motor Settings > General > Voltage > Battery Voltage Cutoff End -->
    <l_slow_abs_current>1</l_slow_abs_current>
    <l_temp_fet_start>80</l_temp_fet_start>
    <l_temp_fet_end>100</l_temp_fet_end>
    <l_temp_motor_start>80</l_temp_motor_start>
    <l_temp_motor_end>100</l_temp_motor_end>
    <l_temp_accel_dec>0.15</l_temp_accel_dec>
    <l_min_duty>0.001</l_min_duty> <!--Motor Settings > General > Advanced > Minimum Duty Cycle -->
    <l_max_duty>0.95</l_max_duty> <!--Motor Settings > General > Advanced > Maximum Duty Cycle -->
    <l_watt_max>15000</l_watt_max>
    <l_watt_min>-15000</l_watt_min>
    <l_current_max_scale>1</l_current_max_scale>
    <l_current_min_scale>1</l_current_min_scale>
    <l_duty_start>1</l_duty_start>
    <sl_min_erpm>150</sl_min_erpm>
    <sl_min_erpm_cycle_int_limit>1700</sl_min_erpm_cycle_int_limit>
    <sl_max_fullbreak_current_dir_change>10</sl_max_fullbreak_current_dir_change>
    <sl_cycle_int_limit>62</sl_cycle_int_limit>
    <sl_phase_advance_at_br>0.8</sl_phase_advance_at_br>
    <sl_cycle_int_rpm_br>80000</sl_cycle_int_rpm_br>
    <sl_bemf_coupling_k>600</sl_bemf_coupling_k>
    <hall_table__0>-1</hall_table__0>
    <hall_table__1>1</hall_table__1>
    <hall_table__2>3</hall_table__2>
    <hall_table__3>2</hall_table__3>
    <hall_table__4>5</hall_table__4>
    <hall_table__5>6</hall_table__5>
    <hall_table__6>4</hall_table__6>
    <hall_table__7>-1</hall_table__7>
    <hall_sl_erpm>2000</hall_sl_erpm>
    <foc_current_kp>0.0048</foc_current_kp> <!--Motor Settings > FOC > General > Detect and Calculate Parameters -->
    <foc_current_ki>10.17</foc_current_ki> <!--Motor Settings > FOC > General > Detect and Calculate Parameters -->
    <foc_f_zv>25000</foc_f_zv>
    <foc_dt_us>0.08</foc_dt_us>
    <foc_encoder_inverted>0</foc_encoder_inverted>
    <foc_encoder_offset>180</foc_encoder_offset>
    <foc_encoder_ratio>7</foc_encoder_ratio>
    <foc_sensor_mode>0</foc_sensor_mode> <!--Motor Settings > FOC > General > Sensor Mode > Sensorless -->
    <foc_pll_kp>2000</foc_pll_kp>
    <foc_pll_ki>20000</foc_pll_ki>
    <foc_motor_l>4.76e-06</foc_motor_l> <!--Motor Settings > FOC > General > Detect and Calculate Parameters -->
    <foc_motor_ld_lq_diff>1.8e-06</foc_motor_ld_lq_diff> <!--Motor Settings > FOC > General > Detect and Calculate Parameters -->
    <foc_motor_r>0.0102</foc_motor_r> <!--Motor Settings > FOC > General > Detect and Calculate Parameters -->
    <foc_motor_flux_linkage>0.001311</foc_motor_flux_linkage> <!--Motor Settings > FOC > General > Detect and Calculate Parameters -->
    <foc_observer_gain>5.8183e+08</foc_observer_gain> <!--Motor Settings > FOC > General > Detect and Calculate Parameters -->
    <foc_observer_gain_slow>0.3</foc_observer_gain_slow>
    <foc_observer_offset>-1</foc_observer_offset>
    <foc_duty_dowmramp_kp>10</foc_duty_dowmramp_kp>
    <foc_duty_dowmramp_ki>200</foc_duty_dowmramp_ki>
    <foc_start_curr_dec>1</foc_start_curr_dec>
    <foc_start_curr_dec_rpm>2500</foc_start_curr_dec_rpm>
    <foc_openloop_rpm>1200</foc_openloop_rpm>
    <foc_openloop_rpm_low>0</foc_openloop_rpm_low>
    <foc_d_gain_scale_start>0.9</foc_d_gain_scale_start>
    <foc_d_gain_scale_max_mod>0.2</foc_d_gain_scale_max_mod>
    <foc_sl_openloop_hyst>0.5</foc_sl_openloop_hyst>
    <foc_sl_openloop_time_lock>0</foc_sl_openloop_time_lock>
    <foc_sl_openloop_time_ramp>0.1</foc_sl_openloop_time_ramp>
    <foc_sl_openloop_time>0.5</foc_sl_openloop_time>
    <foc_sl_openloop_boost_q>0</foc_sl_openloop_boost_q>
    <foc_sl_openloop_max_q>-1</foc_sl_openloop_max_q>
    <foc_hall_table__0>255</foc_hall_table__0>
    <foc_hall_table__1>255</foc_hall_table__1>
    <foc_hall_table__2>255</foc_hall_table__2>
    <foc_hall_table__3>255</foc_hall_table__3>
    <foc_hall_table__4>255</foc_hall_table__4>
    <foc_hall_table__5>255</foc_hall_table__5>
    <foc_hall_table__6>255</foc_hall_table__6>
    <foc_hall_table__7>255</foc_hall_table__7>
    <foc_hall_interp_erpm>500</foc_hall_interp_erpm>
    <foc_sl_erpm>2500</foc_sl_erpm>
    <foc_sample_v0_v7>1</foc_sample_v0_v7>
    <foc_sample_high_current>0</foc_sample_high_current>
    <foc_sat_comp_mode>2</foc_sat_comp_mode>
    <foc_sat_comp>0</foc_sat_comp>
    <foc_temp_comp>0</foc_temp_comp>
    <foc_temp_comp_base_temp>25</foc_temp_comp_base_temp>
    <foc_current_filter_const>0.1</foc_current_filter_const>
    <foc_cc_decoupling>0</foc_cc_decoupling>
    <foc_observer_type>3</foc_observer_type>
    <foc_hfi_voltage_start>20</foc_hfi_voltage_start>
    <foc_hfi_voltage_run>4</foc_hfi_voltage_run>
    <foc_hfi_voltage_max>6</foc_hfi_voltage_max>
    <foc_hfi_gain>0.3</foc_hfi_gain>
    <foc_hfi_hyst>0</foc_hfi_hyst>
    <foc_sl_erpm_hfi>3000</foc_sl_erpm_hfi>
    <foc_hfi_start_samples>5</foc_hfi_start_samples>
    <foc_hfi_obs_ovr_sec>0.001</foc_hfi_obs_ovr_sec>
    <foc_hfi_samples>1</foc_hfi_samples>
    <foc_offsets_cal_on_boot>1</foc_offsets_cal_on_boot>
    <foc_offsets_current__0>2047.49</foc_offsets_current__0>
    <foc_offsets_current__1>2048.51</foc_offsets_current__1>
    <foc_offsets_current__2>0</foc_offsets_current__2>
    <foc_offsets_voltage__0>-0.0002</foc_offsets_voltage__0>
    <foc_offsets_voltage__1>-0.0012</foc_offsets_voltage__1>
    <foc_offsets_voltage__2>0.0015</foc_offsets_voltage__2>
    <foc_offsets_voltage_undriven__0>0</foc_offsets_voltage_undriven__0>
    <foc_offsets_voltage_undriven__1>0</foc_offsets_voltage_undriven__1>
    <foc_offsets_voltage_undriven__2>0</foc_offsets_voltage_undriven__2>
    <foc_phase_filter_enable>1</foc_phase_filter_enable>
    <foc_phase_filter_disable_fault>1</foc_phase_filter_disable_fault>
    <foc_phase_filter_max_erpm>4000</foc_phase_filter_max_erpm>
    <foc_mtpa_mode>0</foc_mtpa_mode>
    <foc_fw_current_max>0</foc_fw_current_max>
    <foc_fw_duty_start>0.9</foc_fw_duty_start>
    <foc_fw_q_current_factor>0.02</foc_fw_q_current_factor>
    <foc_fw_ramp_time>0.2</foc_fw_ramp_time>
    <foc_speed_soure>1</foc_speed_soure>
    <gpd_buffer_notify_left>200</gpd_buffer_notify_left>
    <gpd_buffer_interpol>0</gpd_buffer_interpol>
    <gpd_current_filter_const>0.1</gpd_current_filter_const>
    <gpd_current_kp>0.03</gpd_current_kp>
    <gpd_current_ki>50</gpd_current_ki>
    <sp_pid_loop_rate>5</sp_pid_loop_rate>
    <s_pid_kp>0.005</s_pid_kp> <!-- Motot Setting > PID Controllers > Speed PID Kp -->
    <s_pid_ki>0</s_pid_ki> <!-- Motot Setting > PID Controllers > Speed PID Ki -->
    <s_pid_kd>0.0001</s_pid_kd> <!-- Motot Setting > PID Controllers > Speed PID Kd -->
    <s_pid_kd_filter>0.2</s_pid_kd_filter> <!-- Motot Setting > PID Controllers > Speed PID Kd Filter -->
    <s_pid_min_erpm>1200</s_pid_min_erpm> <!-- Motot Setting > PID Controllers > Minimum ERPM -->
    <s_pid_allow_braking>1</s_pid_allow_braking> <!-- Motot Setting > PID Controllers > Allow Braking > True -->
    <s_pid_ramp_erpms_s>6000</s_pid_ramp_erpms_s> <!-- Motot Setting > PID Controllers > Ramp ERPM per Second -->
    <p_pid_kp>0.03</p_pid_kp>
    <p_pid_ki>0</p_pid_ki>
    <p_pid_kd>0.0004</p_pid_kd>
    <p_pid_offset>0</p_pid_offset>
    <p_pid_kd_proc>0.00035</p_pid_kd_proc>
    <p_pid_kd_filter>0.2</p_pid_kd_filter>
    <p_pid_ang_div>1</p_pid_ang_div>
    <p_pid_gain_dec_angle>0</p_pid_gain_dec_angle>
    <cc_startup_boost_duty>0.05</cc_startup_boost_duty>
    <cc_min_current>3.4</cc_min_current>
    <cc_gain>0.0046</cc_gain>
    <cc_ramp_step_max>0.4</cc_ramp_step_max>
    <m_fault_stop_time_ms>3000</m_fault_stop_time_ms>
    <m_duty_ramp_step>0.02</m_duty_ramp_step>
    <m_current_backoff_gain>0.5</m_current_backoff_gain>
    <m_encoder_counts>8192</m_encoder_counts>
    <m_encoder_sin_amp>1</m_encoder_sin_amp>
    <m_encoder_cos_amp>1</m_encoder_cos_amp>
    <m_encoder_sin_offset>1.65</m_encoder_sin_offset>
    <m_encoder_cos_offset>1.65</m_encoder_cos_offset>
    <m_encoder_sincos_filter_constant>0.5</m_encoder_sincos_filter_constant>
    <m_encoder_sincos_phase_correction>0</m_encoder_sincos_phase_correction>
    <m_sensor_port_mode>0</m_sensor_port_mode>
    <m_invert_direction>0</m_invert_direction> <!--Motor Settings > General > General > Invert Motor Direction > False-->
    <m_drv8301_oc_mode>0</m_drv8301_oc_mode>
    <m_drv8301_oc_adj>16</m_drv8301_oc_adj>
    <m_bldc_f_sw_min>3000</m_bldc_f_sw_min>
    <m_bldc_f_sw_max>40000</m_bldc_f_sw_max>
    <m_dc_f_sw>35000</m_dc_f_sw>
    <m_ntc_motor_beta>3380</m_ntc_motor_beta>
    <m_out_aux_mode>0</m_out_aux_mode>
    <m_motor_temp_sens_type>0</m_motor_temp_sens_type>
    <m_ptc_motor_coeff>0.61</m_ptc_motor_coeff>
    <m_ntcx_ptcx_res>10000</m_ntcx_ptcx_res>
    <m_ntcx_ptcx_temp_base>25</m_ntcx_ptcx_temp_base>
    <m_hall_extra_samples>1</m_hall_extra_samples>
    <m_batt_filter_const>45</m_batt_filter_const>
    <si_motor_poles>4</si_motor_poles> <!--Motor Settings > Additional Info > Motor Poles -->
    <si_gear_ratio>8.95</si_gear_ratio> <!--Motor Settings > Additional Info > Gear Ratio -->
    <si_wheel_diameter>0.097</si_wheel_diameter> <!--Motor Settings > Additional Info > Wheel Diameter -->
    <si_battery_type>0</si_battery_type> <!--Motor Settings > Additional Info > Battery Type > Li-Ion comes closest to our LiPo -->
    <si_battery_cells>4</si_battery_cells> <!--Motor Settings > Additional Info > Battery Cellse -->
    <si_battery_ah>6.2</si_battery_ah> <!--Motor Settings > Additional Info > Battery Capacity -->
    <si_motor_nl_current>5</si_motor_nl_current> <!--Motor Settings > Additional Info > Motot No Load Current (Measured) -->
    <motor_brand>Kyosho</motor_brand>
    <motor_model>Speed House Torx 8 2000KV Sensorless Brushless Motor</motor_model>
    <motor_weight>352</motor_weight>
    <motor_sensor_type>0</motor_sensor_type>
</MCConfiguration>
